import { HardhatError } from "@nomicfoundation/hardhat-errors";
import { ViemIgnitionHelperImpl } from "../viem-ignition-helper.js";
export default async () => {
    const handlers = {
        async newConnection(context, next) {
            const connection = await next(context);
            if (connection.ignition !== undefined) {
                throw new HardhatError(HardhatError.ERRORS.IGNITION.INTERNAL.ONLY_ONE_IGNITION_EXTENSION_PLUGIN_ALLOWED);
            }
            connection.ignition = new ViemIgnitionHelperImpl(context.config, context.artifacts, connection, context.interruptions, context.config.ignition);
            return connection;
        },
    };
    return handlers;
};
//# sourceMappingURL=network.js.map